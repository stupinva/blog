<html>
	<head>
		<meta http-equiv="Content-Type" content="plain/html; charset=UTF-8" />
		<link rel="stylesheet" href="../styles.css" type="text/css" />
		<meta name="keywords" content="перевод,cron-apt,linux,debian" />
		<meta name="author" content="Владимир Ступин" />
		<!-- 2009-09-18 -->
		<title>chantra. Почтовые уведомления от cron-apt о доступных обновлениях пакетов, 2008</title>
	</head>
	<body>
		<p><a href="..">&larr;</a></p>

		<h1>chantra. Почтовые уведомления от cron-apt о доступных обновлениях пакетов, 2008</h1>

		<p>Перевод статьи: <a href="http://www.debuntu.org/how-to-email-notification-upon-available-package-updates-with-cron-apt">How-To: email notification upon available package updates with cron-apt</a></p>

		<p>cron-apt - это инструмент, который запускается планировщиком задач cron через регулярные интервалы времени. Он проверяет обновления пакетов и, на выбор, выполняет некоторые действия.</p>

		<p>cron-apt по умолчанию скачивает пакеты, но не устанавливает их.</p>

		<p>Этот урок рассматривает установку cron-apt для отправки писем на указанный адрес при появлении возможности установки обновлений.</p>

		<p>Одним из основных правил, для сохранения защищённости системы против программных эксплойтов, является её поддержание в актуальном состоянии.</p>

		<p>Новые настольные дистрибутивы Linux включают программу, уведомляющую о доступности свежих обновлений визуально.</p>

		<p>В неграфическом режиме, на серверах работающих в режиме 24/7, нужно отслеживать их вручную и запускать:</p>

		<pre class="console"># apt-get update
# apt-get dist-upgrade</pre>

		<p>Эта простая задача может стать весьма обременительной, если вы администрируете большое количество систем.</p>

		<p>cron-apt проверяет обновления за вас и, на выбор, устанавливает обновления или отправляет письмо на указанный почтовый адрес.</p>

		<p>Я не рекомендую устанавливать обновления автоматически, поскольку я предпочитаю видеть происходящее и в случае если что-то пойдёт не так, я смогу вмешаться.</p>

		<p>В этом случае почтовые уведомления позволяют вам применять обновления своевременно.</p>

		<h2>1. Установка</h2>

		<p>На Ubuntu и Debian, cron-apt можно установить введя:</p>

		<pre class="console"># apt-get install cron-apt</pre>

		<h2>2. Настройка</h2>

		<p>Настройка cron-apt совершенно очевидна. Доступно большое количество возможностей, однако эта статья ограничивается описанием отправки уведомлений.</p>

		<p>Главный настроечный файл - это /etc/cron-apt/config. Откройте и отредактируйте этот файл и удостоверьтесь, что переменная MAILTO настроена на тот почтовый адрес, на который вы хотите получать отчёты, а переменную MAILON установите в значение upgrade:</p>

		<pre class="code">MAILTO="user@example.com"
MAILON="upgrade"</pre>

		<p>Также вы можете заменить значение MAILON на always, чтобы получать письма с отчётами при каждом запуске cron-apt.</p>

		<h2>3. Определение расписания запуска cron-apt</h2>

		<p>Поскольку cron-apt является заданием для cron, вы можете определить время запуска, отредактировав файл /etc/cron.d/cron-apt.</p>

		<p>Настройка по умолчанию запускает cron-apt каждый день в 4 часа ночи.</p>

		<p><a href="mailto:vladimir@stupin.su?subject=chantra. Почтовые уведомления от cron-apt о доступных обновлениях пакетов, 2008">Написать автору перевода</a></p>

		<p><a href="..">&larr;</a></p>
	</body>
</html>
